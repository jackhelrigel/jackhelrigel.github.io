{
  "hash": "94c9e280644195911da5ba5a77b02f0a",
  "result": {
    "markdown": "---\ntitle: \"NFL in 2022\"\nauthor: \"Jack Helrigel\"\ndate: \"2023-12-11\"\ncategories: [Data Analysis]\nimage: \"NFL.jpeg\"\n\nexecute: \n  warning: false\n  message: false\n  \ntoc: true\n---\n\n\n![](NFL.jpeg)\n\n# Question 2. NFL in 2022\n\n- Add a blog post with your answers for Question 2 to your website (https://YOUR_GITHUB_USERNAME.github.io/).\n  - Make sure that your blog post for Question 2 includes all the questionnaires and your answers to them.\n  - Make sure that your blog post for Question 2 has a section for each sub-question (e.g., Q2a, Q2b) in Question 2, so that the Table of Contents display the section for each questionnaire.\n- The following is the data.frame for Question 2.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nNFL2022_stuffs <- read.csv('https://bcdanl.github.io/data/NFL2022_stuffs.csv')\n```\n:::\n\n\n- NFL2022_stuffs is the data.frame that contains information about NFL games in year 2022, in which the unit of observation is a single play for each drive in a NFL game.\n\n\n# Variable Description 🏈\n\n- play_id: Numeric play identifier that when used with game_id and drive provides the unique identifier for a single play\n- game_id: Ten digit identifier for NFL game.\n- drive: Numeric drive number in the game.\n- week: Season week.\n- posteam: String abbreviation for the team with possession.\n- qtr: Quarter of the game (5 is overtime).\n- half_seconds_remaining: Numeric seconds remaining in the half.\n- down: The down for the given play.\n  - Basically you get four attempts (aka downs) to move the ball 10 yards (by either running with it or passing it).\n  - If you make 10 yards then you get another set of four downs.\n- pass: Binary indicator if the play was a pass play.\n- wp: Estimated winning probability for the posteam given the current situation at the start of the given play.\n\n# Q2A\n\nIn data.frame, NFL2022_stuffs, remove observations for which values of posteam is missing.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(skimr)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nq2a <- NFL2022_stuffs %>% \n  filter(!is.na(posteam))\n```\n:::\n\n\n# Q2B \n\nSummarize the mean value of pass for each posteam when all the following conditions hold:\n\n1. wp is greater than 20% and less than 75%;\n2. down is less than or equal to 2; and\n3. half_seconds_remaining is greater than 120.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq2b <- NFL2022_stuffs %>% \n  filter(between(wp, 0.2, 0.75),\n         down <= 2,\n         half_seconds_remaining > 120)\n\nmeanvalq2b <- q2b %>% \n  group_by(posteam) %>% \n  summarise(mean_pass = mean(pass, na.rm = TRUE))\n\nmeanvalq2b\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 32 × 2\n   posteam mean_pass\n   <chr>       <dbl>\n 1 ARI         0.553\n 2 ATL         0.4  \n 3 BAL         0.520\n 4 BUF         0.604\n 5 CAR         0.458\n 6 CHI         0.420\n 7 CIN         0.657\n 8 CLE         0.491\n 9 DAL         0.474\n10 DEN         0.493\n# ℹ 22 more rows\n```\n:::\n:::\n\n\n# Q2C \n\n- Provide both (1) a ggplot code with geom_point() using the resulting data.frame in Q2b and (2) a simple comments to describe the mean value of pass for each posteam.\n  - In the ggplot, reorder the posteam categories based on the mean value of pass in ascending or in descending order.\n  \n  ≈\n\n::: {.cell}\n\n```{.r .cell-code}\nmeanvaldesc <- meanvalq2b %>% \n  arrange(desc(mean_pass))\n\nggplot(meanvaldesc, aes(x = mean_pass, y = reorder(posteam, mean_pass))) +\n  geom_point()+\n  labs(x= \"Percentage of Pass Plays\",\n       y= \"Team with possesion\")\n```\n\n::: {.cell-output-display}\n![](NFL_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\nComments:\n  - Cincinnati, Kansas City, Los Angeles Chargers, Buffalo Bills, and Philadelphia eagles had the top 5 highest average percentage of pass plays during the 2022 season.\n  - Atlanta, Washington, Chicago, New Orleans, and Tennessee had the top 5 lowest average percentage of pass plays during the 2022 season.\n  \n\n# Q2D\n\n- Consider the following data.frame, NFL2022_epa:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nNFL2022_epa <- read.csv('https://bcdanl.github.io/data/NFL2022_epa.csv')\n```\n:::\n\n\n- Variable description for NFL2022_epa\n  - play_id: Numeric play identifier that when used with game_id and drive provides the unique identifier for a single play\n  - game_id: Ten digit identifier for NFL game.\n  - drive: Numeric drive number in the game.\n  - posteam: String abbreviation for the team with possession.\n  - passer: Name of the player who passed a ball to a receiver by initially taking a three-step drop and backpedaling into the pocket to make a pass. (Mostly, they are quarterbacks)\n  - receiver: Name of the receiver.\n  - epa: Expected points added (EPA) by the posteam for the given play.\n- Create the data.frame, NFL2022_stuffs_EPA, that includes\n  1. All the variables in the data.frame, NFL2022_stuffs;\n  2. The variables, passer, receiver, and epa, from the data.frame, NFL2022_epa. by joining the two data.frames.\n- In the resulting data.frame, NFL2022_stuffs_EPA, remove observations with NA in passer.\n\nAnswer: \n\n::: {.cell}\n\n```{.r .cell-code}\nNFL2022_stuffs_EPA <- left_join(NFL2022_stuffs, NFL2022_epa, by = c(\"play_id\", \"game_id\", \"drive\", \"posteam\"))\n\nNFL2022_stuffs_EPA <- NFL2022_stuffs_EPA %>%\n  filter(!is.na(passer))\n```\n:::\n",
    "supporting": [
      "NFL_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}